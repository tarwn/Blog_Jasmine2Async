(function(a){function e(a){"undefined"!=typeof process&&process.nextTick?process.nextTick(a):window.setTimeout(a,0)}a[0][a[1]]=function j(){var a,g=[],c=[],b=function(k,b){null==a&&(a=k,g=b,e(function(){for(var a=0;a<c.length;a++)c[a]()}))};b.then=function(b,l){var d=j(),h=function(){try{var c=a?b:l;if("function"==typeof c){var f=c.apply(null,g);f&&"function"==typeof f.then?f.then(function(a){d(!0,[a])},function(a){d(!1,[a])}):d(!0,[f])}else d(a,g)}catch(e){d(!1,[e])}};null!=a?e(h):c.push(h);return d};
b.always=function(a){return b.then(a,a)};b.error=function(a){return b.then(0,a)};return b}})("undefined"===typeof module?[window,"pinkySwear"]:[module,"exports"]);